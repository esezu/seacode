<h2>最新视频</h2>

<check if="{{ @videos }}">
    <check if="{{ count(@videos) > 0 }}">
        <div class="video-grid">
            <repeat group="{{ @videos }}" value="{{ @video }}">
                <div class="video-card" onclick="location.href='/info/{{ @video.id }}'">
                    <img class="pic" src="{{ @video.pic }}" alt="{{ @video.name }}" onerror="this.src='https://via.placeholder.com/300x400/f5f5f5/999999?text=暂无封面'">
                    <div class="info">
                        <div class="name">{{ @video.name }}</div>
                        <div class="meta">
                            <span>{{ @video.year }}</span> | <span>{{ @video.area }}</span>
                        </div>
                        <check if="{{ @video.note }}">
                            <div class="note">{{ @video.note }}</div>
                        </check>
                    </div>
                </div>
            </repeat>
        </div>

        <!-- 分页 -->
        <check if="{{ @pagination.pagecount > 1 }}">
            <div class="pagination">
                <check if="{{ @pagination.page > 1 }}">
                    <a href="?page=1">首页</a>
                    <a href="?page={{ @pagination.page - 1 }}">上一页</a>
                </check>

                <span class="current">第 {{ @pagination.page }} 页</span>
                <span>/</span>
                <span>共 {{ @pagination.pagecount }} 页</span>

                <check if="{{ @pagination.page < @pagination.pagecount }}">
                    <a href="?page={{ @pagination.page + 1 }}">下一页</a>
                    <a href="?page={{ @pagination.pagecount }}">尾页</a>
                </check>
            </div>
        </check>
    <false>
        <div class="empty">
            <h3>暂无视频数据</h3>
            <p>请稍后再试</p>
        </div>
    </check>
<false>
    <div class="loading">加载中...</div>
</check>
